<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Функциональная спецификация – Главная</title>

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <!-- External styles (оставил подключение к вашему styles.css) -->
    <link rel="stylesheet" href="styles.css" />

    <!-- Минимальные inline‑стили для выпадающего меню -->
    <style>
      .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
        z-index: 1;
      }
      .dropdown-content.show {
        display: block;
      }
      .dropdown-content .dropdown-item {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
      }
      .dropdown-content .dropdown-item:hover {
        background-color: #f1f1f1;
      }
    </style>
  </head>
  <body>
    <!-- === Header === -->
    <header class="header">
      <span class="header-text">Функциональная спецификация</span>

      <!-- Бургер‑меню -->
      <div class="dropdown">
        <i
          id="menuToggle"
          class="fas fa-list"
          style="font-size: 2rem; cursor: pointer"
        ></i>
        <nav id="dropdownMenu" class="dropdown-content">
          <a href="index.html" class="dropdown-item">Главная</a>
          <a href="account.html" class="dropdown-item">Аккаунт</a>
          <a href="tasks.html" class="dropdown-item">Задачи</a>
          <a href="schedule.html" class="dropdown-item">Календарь</a>
          <a href="profile.html" class="dropdown-item">Профиль</a>
          <a href="tl-dashboard.html" class="dropdown-item">TL Панель</a>
          <a href="risk-log.html" class="dropdown-item">Риски</a>
          <a href="reports.html" class="dropdown-item">Отчёты</a>
        </nav>
      </div>
    </header>

    <!-- === Main content === -->
    <main class="main">
      <!-- Welcome -->
      <section id="welcomeSection" class="info-section">
        <h2>Добро пожаловать!</h2>
        <p>
          На этой странице представлена краткая функциональная спецификация
          учебного сервиса управления проектными заданиями. Ниже перечислены
          ключевые подсистемы и их минимальные функции.
        </p>
      </section>

      <section id="specSection" class="info-section">
        <h2>Функциональная спецификация</h2>

        <table style="width:100%; border-collapse: collapse;">
          <thead style="background:#f0f6ff">
            <tr>
              <th style="padding:8px; border:1px solid #ddd">№</th>
              <th style="padding:8px; border:1px solid #ddd">Подсистема</th>
              <th style="padding:8px; border:1px solid #ddd">Назначение</th>
              <th style="padding:8px; border:1px solid #ddd">Ключевые функции</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="padding:8px; border:1px solid #ddd">1</td>
              <td style="padding:8px; border:1px solid #ddd">Реестр трудовых заданий</td>
              <td style="padding:8px; border:1px solid #ddd">Централизованное хранение данных о работах проекта</td>
              <td style="padding:8px; border:1px solid #ddd">
                • отображение атрибутов: ИД, наименование, трудоёмкость (ч),
                дедлайн, исполнитель, статус<br />
                • операции Create/Read/Update (удаление недоступно на этапе MVP)
              </td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid #ddd">2</td>
              <td style="padding:8px; border:1px solid #ddd">Механизм добровольного закрепления</td>
              <td style="padding:8px; border:1px solid #ddd">Реализация принципа «self-assignment»</td>
              <td style="padding:8px; border:1px solid #ddd">
                • транзакция «Взять → закрепить» атомарно блокирует объект<br />
                • операция «Отдать» возвращает задачу в общий пул<br />
                • обработка коллизий блокировкой ID
              </td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid #ddd">3</td>
              <td style="padding:8px; border:1px solid #ddd">Календарь оперативного планирования</td>
              <td style="padding:8px; border:1px solid #ddd">Фиксация интервалов занятости студента</td>
              <td style="padding:8px; border:1px solid #ddd">
                • недельная матрица 7 × N (шаг 1–2 ч)<br />
                • добавление/удаление слота drag&amp;drop<br />
                • хранение модели в localStorage
              </td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid #ddd">4</td>
              <td style="padding:8px; border:1px solid #ddd">Контур прогнозно-диагностический</td>
              <td style="padding:8px; border:1px solid #ddd">Автоматическая оценка риска</td>
              <td style="padding:8px; border:1px solid #ddd">
                • расчёт остатка R = ∑ слоты – трудоёмкость<br />
                • жёлтый индикатор, если R &lt; 0 и дедлайн &gt; 24 ч<br />
                • красный индикатор, если текущая дата ≥ дедлайна
              </td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid #ddd">5</td>
              <td style="padding:8px; border:1px solid #ddd">Панель тимлида</td>
              <td style="padding:8px; border:1px solid #ddd">Сводная визуализация статусов</td>
              <td style="padding:8px; border:1px solid #ddd">
                • переключатель «Student ↔ TL»<br />
                • фильтр «показать только задачи с риском»<br />
                • агрегированные метрики: N_жёлт, N_красн, N_всего
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </main>

    <!-- === Minimal JS: только логика меню === -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const menuToggle = document.getElementById("menuToggle");
        const dropdownMenu = document.getElementById("dropdownMenu");

        menuToggle.onclick = () => dropdownMenu.classList.toggle("show");

        window.onclick = (event) => {
          if (
            !event.target.matches("#menuToggle") &&
            !dropdownMenu.contains(event.target)
          ) {
            dropdownMenu.classList.remove("show");
          }
        };
      });
    </script>
  </body>
</html>
